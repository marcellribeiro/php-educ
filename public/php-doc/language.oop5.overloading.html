<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Sobrecarga</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.oop5.anonymous.html">« Classes an&ocirc;nimas</a></li>
      <li style="float: right;"><a href="language.oop5.iterations.html">Itera&ccedil;&atilde;o de Objetos »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="/">PHP-HELP</a></li><li><a href="/php-doc/">Manual</a></li>
    <li><a href="language.oop5.html">Classes e Objetos</a></li>
    <li>Sobrecarga</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.oop5.overloading" class="sect1">
  <h2 class="title">Sobrecarga</h2>

  <p class="para">
   Sobrecarga em PHP provê recursos para <q class="quote">criar</q>
   dinamicamente propriedades e métodos.
   Estas entidades dinâmicas são processadas por métodos mágicos fornecendo
   a uma classe vários tipos de ações.
  </p>

  <p class="para">
   Os métodos de sobrecarga são invocados ao interagir com propriedades ou
   métodos que não foram declarados ou não são
   <a href="language.oop5.visibility.html" class="link">visíveis</a> no
   escopo corrente. O resto desta seção usará os termos
   <q class="quote">propriedades inacessíveis</q> e <q class="quote">métodos inacessíveis</q>
   para referir-se a esta combinação de declaração
   e visibilidade.
  </p>

  <p class="para">
   Todos os métodos de sobrecarga devem ser definidos como <code class="literal">públicos</code>.
  </p>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Nenhum dos argumentos dos métodos mágicos podem ser
    <a href="functions.arguments.html#functions.arguments.by-reference" class="link">passados por
    referência</a>.
   </p>
  </p></blockquote>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    A interpretação do PHP de <q class="quote">sobrecarga</q> é diferente da
    maioria das linguagens orientadas a objeto. Sobrecarga, tradicionalmente,
    provê a habilidade de ter múltiplos métodos com o mesmo nome, mas
    com quantidades e tipos de argumentos
    diferentes.
   </p>
  </p></blockquote>

  <div class="sect2" id="language.oop5.overloading.members">
   <h3 class="title">Sobrecarga de propriedades</h3>

   <div class="methodsynopsis dc-description" id="object.set">
    <span class="modifier">public</span> <span class="methodname"><strong>__set</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span> <code class="parameter">$value</code></span>): <span class="type"><span class="type void">void</span></span></div>

   <div class="methodsynopsis dc-description" id="object.get"><span class="modifier">public</span> <span class="methodname"><strong>__get</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>): <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>

   <div class="methodsynopsis dc-description" id="object.isset"><span class="modifier">public</span> <span class="methodname"><strong>__isset</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>): <span class="type">bool</span></div>

   <div class="methodsynopsis dc-description" id="object.unset"><span class="modifier">public</span> <span class="methodname"><strong>__unset</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>): <span class="type"><span class="type void">void</span></span></div>


   <p class="para">
    <a href="language.oop5.overloading.html#object.set" class="link">__set()</a> é executado ao escrever dados em
    propriedades inacessíveis (private ou protected) ou propriedades inexistentes.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.get" class="link">__get()</a> é utilizado para ler dados de propriedades
    inacessíveis (private ou protected) ou propriedades inexistentes.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.isset" class="link">__isset()</a> é disparado ao chamar a função
    <span class="function"><a href="function.isset.html" class="function">isset()</a></span> ou <span class="function"><a href="function.empty.html" class="function">empty()</a></span>
    em propriedades inacessíveis (private ou protected) ou propriedades inexistentes.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.unset" class="link">__unset()</a> é invocado ao usar o construtor
    <span class="function"><a href="function.unset.html" class="function">unset()</a></span> em propriedades inacessíveis (private ou protected)
    ou propriedades inexistentes.
   </p>

   <p class="para">
    O argumento <var class="varname">$name</var> é o nome da propriedade com o qual se está
    interagindo. O argumento <var class="varname">$value</var> do método <a href="language.oop5.overloading.html#object.set" class="link">__set()</a>
    especifica o valor para o qual a propriedade
    <var class="varname">$name</var> deveria ser
    definida.
   </p>

   <p class="para">
    A sobrecarga de propriedades funciona somente no contexto de objeto. Estes
    métodos mágicos não são disparados em contexto estático. Portanto estes
    métodos não podem ser declarados como
    <a href="language.oop5.static.html" class="link">static</a>.
    Um aviso é emitido se algum método mágico de sobrecarga
    é declarado como <code class="literal">static</code>.
   </p>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     O valor de retorno de <a href="language.oop5.overloading.html#object.set" class="link">__set()</a> é ignorado
     por causa da forma que o PHP processa o operador de atribuição.
     Similarmente, o método <a href="language.oop5.overloading.html#object.get" class="link">__get()</a> nunca é chamado em
     atribuições encadeadas como essa:
     <code class="literal"><div class="cdata"><pre> $a = $obj-&gt;b = 8; </pre></div></code>
    </p>
   </p></blockquote>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     O PHP não irá chamar métodos sobrecarregados a partir do próprio método sobrecarregado.
     Isso significa, por exemplo, que escrever <code class="code">return $this-&gt;foo</code> dentro de um
     <a href="language.oop5.overloading.html#object.get" class="link">__get()</a> irá retornar <code class="literal">null</code>
     e lançar um <strong><code>E_WARNING</code></strong> se não houver uma <code class="literal">foo</code> propriedade definida,
     ao invés de chamar <a href="language.oop5.overloading.html#object.get" class="link">__get()</a> uma segunda vez.
     Entretanto, métodos sobrecarregados podem invocar outros métodos sobrecarregados implicitamente (como um
     <a href="language.oop5.overloading.html#object.set" class="link">__set()</a> chamando um <a href="language.oop5.overloading.html#object.get" class="link">__get()</a>).
    </p>
   </p></blockquote>

   <div class="example" id="example-265">
    <p><strong>Exemplo #1 
     Sobrecarregando propriedades com <a href="language.oop5.overloading.html#object.get" class="link">__get()</a>,
     <a href="language.oop5.overloading.html#object.set" class="link">__set()</a>, <a href="language.oop5.overloading.html#object.isset" class="link">__isset()</a>
     and <a href="language.oop5.overloading.html#object.unset" class="link">__unset()</a>
    </strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">PropertyTest<br /></span><span style="color: #007700">{<br />    </span><span style="color: #FF8000">/**  Location for overloaded data.  */<br />    </span><span style="color: #007700">private </span><span style="color: #0000BB">$data </span><span style="color: #007700">= array();<br /><br />    </span><span style="color: #FF8000">/**  Overloading not used on declared properties.  */<br />    </span><span style="color: #007700">public </span><span style="color: #0000BB">$declared </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />    </span><span style="color: #FF8000">/**  Overloading only used on this when accessed outside the class.  */<br />    </span><span style="color: #007700">private </span><span style="color: #0000BB">$hidden </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br />    public function </span><span style="color: #0000BB">__set</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />    {<br />        echo </span><span style="color: #DD0000">"Setting '</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">' to '</span><span style="color: #0000BB">$value</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] = </span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />    }<br /><br />    public function </span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />    {<br />        echo </span><span style="color: #DD0000">"Getting '</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />        if (</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">)) {<br />            return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br />        }<br /><br />        </span><span style="color: #0000BB">$trace </span><span style="color: #007700">= </span><span style="color: #0000BB">debug_backtrace</span><span style="color: #007700">();<br />        </span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(<br />            </span><span style="color: #DD0000">'Undefined property via __get(): ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$name </span><span style="color: #007700">.<br />            </span><span style="color: #DD0000">' in ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">][</span><span style="color: #DD0000">'file'</span><span style="color: #007700">] .<br />            </span><span style="color: #DD0000">' on line ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">][</span><span style="color: #DD0000">'line'</span><span style="color: #007700">],<br />            </span><span style="color: #0000BB">E_USER_NOTICE</span><span style="color: #007700">);<br />        return </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />    }<br /><br />    public function </span><span style="color: #0000BB">__isset</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />    {<br />        echo </span><span style="color: #DD0000">"Is '</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">' set?\n"</span><span style="color: #007700">;<br />        return isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br />    }<br /><br />    public function </span><span style="color: #0000BB">__unset</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />    {<br />        echo </span><span style="color: #DD0000">"Unsetting '</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />        unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br />    }<br /><br />    </span><span style="color: #FF8000">/**  Not a magic method, just here for example.  */<br />    </span><span style="color: #007700">public function </span><span style="color: #0000BB">getHidden</span><span style="color: #007700">()<br />    {<br />        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hidden</span><span style="color: #007700">;<br />    }<br />}<br /><br /><br />echo </span><span style="color: #DD0000">"&lt;pre&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$obj </span><span style="color: #007700">= new </span><span style="color: #0000BB">PropertyTest</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">));<br />unset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">));<br />echo </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br />echo </span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">declared </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br />echo </span><span style="color: #DD0000">"Let's experiment with the private property named 'hidden':\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Privates are visible inside the class, so __get() not used...\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHidden</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #DD0000">"Privates not visible outside of class, so __get() is used...\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hidden </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>O exemplo acima produzirá:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Setting &#039;a&#039; to &#039;1&#039;
Getting &#039;a&#039;
1

Is &#039;a&#039; set?
bool(true)
Unsetting &#039;a&#039;
Is &#039;a&#039; set?
bool(false)

1

Let&#039;s experiment with the private property named &#039;hidden&#039;:
Privates are visible inside the class, so __get() not used...
2
Privates not visible outside of class, so __get() is used...
Getting &#039;hidden&#039;


Notice:  Undefined property via __get(): hidden in &lt;file&gt; on line 70 in &lt;file&gt; on line 29
</pre></div>
    </div>

   </div>
  </div>

  <div class="sect2" id="language.oop5.overloading.methods">
   <h3 class="title">Sobrecarga de método</h3>

   <div class="methodsynopsis dc-description" id="object.call">
    <span class="modifier">public</span> <span class="methodname"><strong>__call</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$arguments</code></span>): <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>

   <div class="methodsynopsis dc-description" id="object.callstatic"><span class="modifier">public static</span> <span class="methodname"><strong>__callStatic</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$arguments</code></span>): <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>


   <p class="para">
    <a href="language.oop5.overloading.html#object.call" class="link">__call()</a> é disparado ao invocar métodos
    inacessíveis em um contexto de objeto.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.callstatic" class="link">__callStatic()</a> é disparado quando invocando métodos
    inacessíveis em um contexto estático.
   </p>

   <p class="para">
    O argumento <var class="varname">$name</var> é o nome do método sendo chamado. O
    argumento <var class="varname">$arguments</var> é um array enumerado contendo os
    parâmetros passados para o
    método <var class="varname">$name</var>.
   </p>

   <div class="example" id="example-266">
    <p><strong>Exemplo #2 
     Sobrecarga de métodos instanciados com <a href="language.oop5.overloading.html#object.call" class="link">__call()</a>
     e <a href="language.oop5.overloading.html#object.callstatic" class="link">__callStatic()</a>
    </strong></p>
    <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">MethodTest<br /></span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">__call</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$arguments</span><span style="color: #007700">)<br />    {<br />        </span><span style="color: #FF8000">// Note: value of $name is case sensitive.<br />        </span><span style="color: #007700">echo </span><span style="color: #DD0000">"Calling object method '</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">' "<br />             </span><span style="color: #007700">. </span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">', '</span><span style="color: #007700">, </span><span style="color: #0000BB">$arguments</span><span style="color: #007700">). </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />    }<br /><br />    public static function </span><span style="color: #0000BB">__callStatic</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$arguments</span><span style="color: #007700">)<br />    {<br />        </span><span style="color: #FF8000">// Note: value of $name is case sensitive.<br />        </span><span style="color: #007700">echo </span><span style="color: #DD0000">"Calling static method '</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">' "<br />             </span><span style="color: #007700">. </span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">', '</span><span style="color: #007700">, </span><span style="color: #0000BB">$arguments</span><span style="color: #007700">). </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$obj </span><span style="color: #007700">= new </span><span style="color: #0000BB">MethodTest</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">runTest</span><span style="color: #007700">(</span><span style="color: #DD0000">'in object context'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">MethodTest</span><span style="color: #007700">::</span><span style="color: #0000BB">runTest</span><span style="color: #007700">(</span><span style="color: #DD0000">'in static context'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>O exemplo acima produzirá:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Calling object method &#039;runTest&#039; in object context
Calling static method &#039;runTest&#039; in static context
</pre></div>
    </div>
   </div>

  </div>

 </div></div></div></body></html>