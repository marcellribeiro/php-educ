<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Execute one or more write operations on this server</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongodb-driver-server.construct.html">« MongoDB\Driver\Server::__construct</a></li>
      <li style="float: right;"><a href="mongodb-driver-server.executecommand.html">MongoDB\Driver\Server::executeCommand »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="/">PHP-EDUC</a></li><li><a href="/php-doc/">Manual</a></li>
    <li><a href="class.mongodb-driver-server.html">MongoDB\Driver\Server</a></li>
    <li>Execute one or more write operations on this server</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mongodb-driver-server.executebulkwrite" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MongoDB\Driver\Server::executeBulkWrite</h1>
  <p class="verinfo">(mongodb &gt;=1.0.0)</p><p class="refpurpose"><span class="refname">MongoDB\Driver\Server::executeBulkWrite</span> &mdash; <span class="dc-title">Execute one or more write operations on this server</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-mongodb-driver-server.executebulkwrite-description">
  <h3 class="title">Descrição</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><strong>MongoDB\Driver\Server::executeBulkWrite</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$namespace</code></span>, <span class="methodparam"><span class="type"><a href="class.mongodb-driver-bulkwrite.html" class="type MongoDB\Driver\BulkWrite">MongoDB\Driver\BulkWrite</a></span> <code class="parameter">$bulk</code></span>, <span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type"><a href="class.mongodb-driver-writeconcern.html" class="type MongoDB\Driver\WriteConcern">MongoDB\Driver\WriteConcern</a></span>|<span class="type">null</span></span> <code class="parameter">$options</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type"><a href="class.mongodb-driver-writeresult.html" class="type MongoDB\Driver\WriteResult">MongoDB\Driver\WriteResult</a></span></div>

  <p class="para rdfs-comment">
   Executes one or more write operations on this server.
  </p>
  <p class="para">
   A <span class="classname"><a href="class.mongodb-driver-bulkwrite.html" class="classname">MongoDB\Driver\BulkWrite</a></span> can be constructed with
   one or more write operations of varying types (e.g. updates, deletes, and
   inserts). The driver will attempt to send operations of the same type to the
   server in as few requests as possible to optimize round trips.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-mongodb-driver-server.executebulkwrite-parameters">
  <h3 class="title">Parâmetros</h3>
  <dl>
   
   
    <dt>
<code class="parameter">namespace</code> (<span class="type">string</span>)</dt>

    <dd>

     <p class="para">
      Um namespace totalmente qualificado (por exemplo, <code class="literal">&quot;nomeBancoDados.nomeColecao&quot;</code>).
     </p>
    </dd>

   

   
   
    <dt>
<code class="parameter">bulk</code> (<span class="classname"><a href="class.mongodb-driver-bulkwrite.html" class="classname">MongoDB\Driver\BulkWrite</a></span>)</dt>

    <dd>

     <p class="para">
      As gravações a serem executadas.
     </p>
    </dd>

   

   
    <dt>
<code class="parameter">options</code></dt>

    <dd>

     <p class="para">
      <table class="doctable table">
       <caption><strong>options</strong></caption>
       
        <thead>
         <tr>
          <th>Option</th>
          <th>Type</th>
          <th>Description</th>
         </tr>

        </thead>

        <tbody class="tbody">
         
         <tr>
          <td>session</td>
          <td><span class="classname"><a href="class.mongodb-driver-session.html" class="classname">MongoDB\Driver\Session</a></span></td>
          <td>
           <p class="para">
            Uma sessão para associar à operação.
           </p>
          </td>
         </tr>


         
         <tr>
          <td>writeConcern</td>
          <td><span class="classname"><a href="class.mongodb-driver-writeconcern.html" class="classname">MongoDB\Driver\WriteConcern</a></span></td>
          <td>
           <p class="para">
            Um write concern a ser aplicado à operação.
           </p>
          </td>
         </tr>


        </tbody>
       
      </table>

     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-mongodb-driver-server.executebulkwrite-returnvalues">
  <h3 class="title">Valor Retornado</h3>
  <p class="para">Retorna <span class="classname"><a href="class.mongodb-driver-writeresult.html" class="classname">MongoDB\Driver\WriteResult</a></span> em caso de sucesso.</p>
 </div>


 <div class="refsect1 errors" id="refsect1-mongodb-driver-server.executebulkwrite-errors">
  <h3 class="title">Erros</h3>
  <ul class="simplelist">
   <li class="member">Throws <span class="classname"><a href="class.mongodb-driver-exception-invalidargumentexception.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span> if <code class="parameter">bulk</code> does not contain any write operations.</li>
   <li class="member">Throws <span class="classname"><a href="class.mongodb-driver-exception-invalidargumentexception.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span> if <code class="parameter">bulk</code> has already been executed. <span class="classname"><a href="class.mongodb-driver-bulkwrite.html" class="classname">MongoDB\Driver\BulkWrite</a></span> objects may not be executed multiple times.</li>
   <li class="member">Lança uma exceção <span class="classname"><a href="class.mongodb-driver-exception-invalidargumentexception.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span> se a opção <code class="literal">&quot;session&quot;</code> for usada em combinação com um write concern não confirmado.</li>
   <li class="member">Lança uma exceção <span class="classname"><a href="class.mongodb-driver-exception-invalidargumentexception.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span> em caso de erro ao analisar argumentos.</li><li class="member">Lança uma exceção <span class="classname"><a href="class.mongodb-driver-exception-connectionexception.html" class="classname">MongoDB\Driver\Exception\ConnectionException</a></span> se a conexão com o servidor falhar (por outros motivos além da autenticação).</li><li class="member">Lança uma exceção <span class="classname"><a href="class.mongodb-driver-exception-authenticationexception.html" class="classname">MongoDB\Driver\Exception\AuthenticationException</a></span> se a autenticação for necessária e falhar.</li>
   <li class="member">Lança uma exceção <span class="classname"><a href="class.mongodb-driver-exception-bulkwriteexception.html" class="classname">MongoDB\Driver\Exception\BulkWriteException</a></span> em caso de qualquer falha de gravação (por exemplo, erro de gravação, falha ao aplicar um write concern).</li>
   <li class="member">Throws <span class="classname"><a href="class.mongodb-driver-exception-runtimeexception.html" class="classname">MongoDB\Driver\Exception\RuntimeException</a></span> on other errors.</li>
  </ul>
 </div>


 <div class="refsect1 changelog" id="refsect1-mongodb-driver-server.executebulkwrite-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versão</th>
       <th>Descrição</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL mongodb 1.4.4</td>
       <td>
        <span class="classname"><a href="class.mongodb-driver-exception-invalidargumentexception.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span>
        will be thrown if the <code class="literal">&quot;session&quot;</code> option is used in
        combination with an unacknowledged write concern.
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.4.0</td>
       <td>
        The third parameter is now an <code class="parameter">options</code> array.
        For backwards compatibility, this paramater will still accept a
        <span class="classname"><a href="class.mongodb-driver-writeconcern.html" class="classname">MongoDB\Driver\WriteConcern</a></span> object.
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.3.0</td>
       <td>
        <span class="classname"><a href="class.mongodb-driver-exception-invalidargumentexception.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span>
        is now thrown if <code class="parameter">bulk</code> does not contain any write
        operations. Previously, a
        <span class="classname"><a href="class.mongodb-driver-exception-bulkwriteexception.html" class="classname">MongoDB\Driver\Exception\BulkWriteException</a></span> was
        thrown.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-mongodb-driver-server.executebulkwrite-notes">
  <h3 class="title">Notas</h3>
  
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    É responsabilidade do invocador garantir que o servidor seja capaz
    de executar a operação de gravação. Por exemplo, executar uma operação de gravação
    em um servidor secundário (excluindo seu banco de dados &quot;local&quot;) falhará.
   </span>
  </p></blockquote>

 </div>


 <div class="refsect1 seealso" id="refsect1-mongodb-driver-server.executebulkwrite-seealso">
  <h3 class="title">Veja Também</h3>
  <ul class="simplelist">
   <li class="member"><span class="classname"><a href="class.mongodb-driver-bulkwrite.html" class="classname">MongoDB\Driver\BulkWrite</a></span></li>
   <li class="member"><span class="classname"><a href="class.mongodb-driver-writeresult.html" class="classname">MongoDB\Driver\WriteResult</a></span></li>
   <li class="member"><span class="classname"><a href="class.mongodb-driver-writeconcern.html" class="classname">MongoDB\Driver\WriteConcern</a></span></li>
   <li class="member"><span class="function"><a href="mongodb-driver-manager.executebulkwrite.html" class="function" rel="rdfs-seeAlso">MongoDB\Driver\Manager::executeBulkWrite()</a> - Execute one or more write operations</span></li>
  </ul>
 </div>


</div></div></div></body></html>