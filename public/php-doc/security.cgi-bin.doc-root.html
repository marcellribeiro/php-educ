<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Caso 3: configurando doc_root ou user_dir</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="security.cgi-bin.force-redirect.html">« Caso 2: usando cgi.force_redirect</a></li>
      <li style="float: right;"><a href="security.cgi-bin.shell.html">Caso 4: Interpretador do PHP fora da &aacute;rvore de diret&oacute;rios do servidor web »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="/">PHP-HELP</a></li><li><a href="/php-doc/">Manual</a></li>
    <li><a href="security.cgi-bin.html">Instalando como bin&aacute;rio CGI</a></li>
    <li>Caso 3: configurando doc_root ou user_dir</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="security.cgi-bin.doc-root" class="sect1">
    <h2 class="title">Caso 3: configurando doc_root ou user_dir</h2>
    <p class="simpara">
     Para incluir conteúdo ativo, como script e executáveis, nos
     diretórios de documentos do servidor é algumas vezes consideread uma
     prática insegura. Se, por conta de um erro de configuração, os scripts
     não são executados mas mostrados como documentos HTML normais, isso
     pode resultar em vazamento de propriedade intelectual ou informação
     de segurança, como senhas. Portanto, muitos administradores preferirão
     configura outra estrutura de diretório para scripts que são acessíveis
     apenas pelo CGI do PHP, e, portanto, sempre
     interpretados e não enviado ao navegador.
    </p>
    <p class="simpara">
     Além disso, se o método para assegura que as requisições não são
     redirecionadas, como descrito na seção anterior, não estiver
     disponível, é necessário configura um doc_root para os script que
     é diferente do doc_root do servidor web.
    </p>
    <p class="simpara">
     Você pode configura a raiz de documentos dos scripts PHP pela
     diretiva de configuração <a href="ini.core.html#ini.doc-root" class="link">doc_root</a> no
     <a href="configuration.file.html" class="link">arquivo de configuração</a>, ou
     você pode criar a variável de ambiente
     <var class="envar">PHP_DOCUMENT_ROOT</var>.  Se ela existir, a versão <abbr title="Common Gateway Interface">CGI</abbr>
     do PHP sempre construirá o nome de arquivo para ser aberto com esse
     <code class="parameter">doc_root</code> e a informação de caminho na
     requisição, para assegurar que nenhum script é executado fora desse
     diretório (exceto por <code class="parameter">user_dir</code>
     abaixo).
    </p>
    <p class="simpara">
     Outra opção utilizável é <a href="ini.core.html#ini.user-dir" class="link">user_dir</a>.  Quando user_dir não existir,
     a única coisa controlando o nome do arquivo aberto é
     <code class="parameter">doc_root</code>. Abrir uma URL como <var class="filename">http://my.host/~user/doc.php</var> não resulta
     em abrir um arquivo no diretório home de users, mas um arquivo
     chamado <var class="filename">~user/doc.php</var> dentro de
     doc_root (sim, um nome de diretório começando com til
     [<code class="literal">~</code>]).
    </p>
    <p class="simpara">
     Se user_dir existir e tiver valor de, por exemplo, <var class="filename">public_php</var>, uma requisição como <var class="filename">http://my.host/~user/doc.php</var> abrirá
     o arquivo chamado <var class="filename">doc.php</var> no diretório
     chamado <var class="filename">public_php</var> dentro do diretório
     home do usuário.  Se o home do usuário é <var class="filename">/home/user</var>, o arquivo executado é
     <var class="filename">/home/user/public_php/doc.php</var>.
    </p>
    <p class="simpara">
     A expansão de <code class="parameter">user_dir</code> acontece independente da
     configuração de <code class="parameter">doc_root</code>, para que você possa controlar
     a raiz de documentos e de acesso de diretório do usuário
     separadamente.
    </p>
   </div></div></div></body></html>